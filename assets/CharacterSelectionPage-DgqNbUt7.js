import{j as s,a9 as y}from"./ui-C9uFtWMF.js";import{c as S,u as B,B as u}from"./index-DFlexWP6.js";import{C as N,a as v,b as C,d as b}from"./card-RrWFcSC-.js";import{f as E,u as L}from"./vendor-DZJxrHEo.js";const R=()=>{const e=S.c(33);E();const{selectedGame:t,characters:l,setSelectedCharacterId:c,isCharactersLoading:r,characterError:i}=B(),a=L();let f;e[0]!==l||e[1]!==a||e[2]!==t||e[3]!==c?(f=h=>{const w=l.find(k=>k.id===h);w&&t?(c(h),a(`/${t.id}/${encodeURIComponent(w.name)}`)):a("/games")},e[0]=l,e[1]=a,e[2]=t,e[3]=c,e[4]=f):f=e[4];const g=f,p=(t==null?void 0:t.name)||"Game";let n;e[5]!==p?(n=s.jsxs("h1",{className:"text-3xl font-bold mb-6 text-center",children:["Select Character for ",p]}),e[5]=p,e[6]=n):n=e[6];let o;e[7]!==r?(o=r&&s.jsx("div",{className:"flex items-center justify-center h-[40vh]",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(y,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading characters..."})]})}),e[7]=r,e[8]=o):o=e[8];let m;e[9]!==i||e[10]!==r||e[11]!==a?(m=i&&!r&&s.jsxs(N,{className:"border-destructive/50 bg-destructive/10",children:[s.jsx(v,{children:s.jsx(C,{className:"text-destructive",children:"Error Loading Characters"})}),s.jsxs(b,{children:[s.jsx("p",{className:"text-sm text-destructive/90",children:i}),s.jsx(u,{variant:"outline",size:"sm",onClick:()=>a("/games"),className:"mt-4",children:"Back to Game Selection"})]})]}),e[9]=i,e[10]=r,e[11]=a,e[12]=m):m=e[12];let d;e[13]!==i||e[14]!==l||e[15]!==g||e[16]!==r||e[17]!==a||e[18]!==t||e[19]!==c?(d=!r&&!i&&t&&l.length>0&&s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 animate-fadeIn min-h-[40vh]",children:[s.jsxs(N,{className:"hover:shadow-lg transition-shadow duration-200 cursor-pointer flex flex-col items-center p-4 text-center border-primary/40",onClick:()=>{t&&(c(-1),a(`/${t.id}/All`))},children:[s.jsx(v,{className:"p-0 mb-2 flex-grow flex items-center justify-center",children:s.jsx(C,{className:"text-lg",children:"All Characters"})}),s.jsx(b,{className:"p-0 mt-auto",children:s.jsx(u,{variant:"outline",size:"sm",children:"View All"})})]},"all-characters"),l.map(h=>s.jsxs(N,{className:"hover:shadow-lg transition-shadow duration-200 cursor-pointer flex flex-col items-center p-4 text-center",onClick:()=>g(h.id),children:[s.jsx(v,{className:"p-0 mb-2 flex-grow flex items-center justify-center",children:s.jsx(C,{className:"text-lg",children:h.name})}),s.jsx(b,{className:"p-0 mt-auto",children:s.jsx(u,{variant:"outline",size:"sm",children:"Select"})})]},h.id))]}),e[13]=i,e[14]=l,e[15]=g,e[16]=r,e[17]=a,e[18]=t,e[19]=c,e[20]=d):d=e[20];let x;e[21]!==i||e[22]!==l||e[23]!==r||e[24]!==a||e[25]!==t?(x=!r&&!i&&t&&l.length===0&&s.jsxs("div",{className:"text-center text-muted-foreground mt-8 min-h-[40vh] flex flex-col items-center justify-center",children:[s.jsxs("p",{children:["No characters found for ",t.name,"."]}),s.jsx(u,{variant:"link",onClick:()=>a("/games"),className:"mt-2",children:"Back to Game Selection"})]}),e[21]=i,e[22]=l,e[23]=r,e[24]=a,e[25]=t,e[26]=x):x=e[26];let j;return e[27]!==n||e[28]!==o||e[29]!==m||e[30]!==d||e[31]!==x?(j=s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[n,o,m,d,x]}),e[27]=n,e[28]=o,e[29]=m,e[30]=d,e[31]=x,e[32]=j):j=e[32],j};export{R as CharacterSelectionPage};
